<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≤ AI Kostkov√° V√Ωzva</title>
    <link rel="icon" type="image/svg+xml" href="/dice.svg" />
    
    <!-- CSS stylov√°n√≠ - Modul√°rn√≠ struktura -->
    <link rel="stylesheet" href="/src/styles/base/reset.css">
    <link rel="stylesheet" href="/src/styles/themes/neon.css">
    <link rel="stylesheet" href="/src/styles/base/layout.css">
    <link rel="stylesheet" href="/src/styles/components/buttons.css">
    <link rel="stylesheet" href="/src/styles/components/players.css">
    <link rel="stylesheet" href="/src/styles/components/chat.css">
    <link rel="stylesheet" href="/src/styles/components/dice.css">
    
    <style>
        /* Dodateƒçn√© styly pro layout */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 30px;
            min-height: 100vh;
        }

        .game-area {
            background: var(--black-bg);
            border: 2px solid var(--neon-green);
            border-radius: 10px;
            padding: 30px;
        }

        .game-title {
            text-align: center;
            font-size: 2.5rem;
            font-weight: 900;
            margin-bottom: 30px;
            color: var(--neon-green);
            letter-spacing: 2px;
        }

        .target-score-setup {
            text-align: center;
            margin-bottom: 30px;
        }

        .target-score-setup label {
            color: var(--neon-green);
            font-weight: 700;
            display: block;
            margin-bottom: 15px;
        }

        .target-score-setup input {
            background: var(--black-bg);
            border: 2px solid var(--neon-green);
            color: var(--neon-green);
            padding: 10px;
            border-radius: 5px;
            font-family: 'Orbitron', monospace;
            margin: 0 10px;
            width: 120px;
        }

        .game-controls {
            text-align: center;
        }

        .turn-info, .current-turn-score, .target-info {
            color: var(--neon-green);
            font-weight: 700;
            margin: 10px 0;
            font-size: 16px;
        }

        .roll-controls {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .players-container {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin: 25px 0;
            flex-wrap: wrap;
        }

        .player {
            background: var(--black-bg);
            border: 2px solid var(--neon-green);
            border-radius: 10px;
            padding: 12px;
            text-align: center;
            min-width: 110px;
        }

        .player.active {
            border-color: var(--neon-orange);
            box-shadow: 0 0 15px var(--neon-orange);
        }

        .player.active .player-head img {
            border-color: var(--neon-orange);
            box-shadow: 0 0 15px var(--neon-orange);
        }

        .player-name, .player-score {
            color: var(--neon-green);
            font-weight: 700;
            margin: 5px 0;
            font-size: 14px;
        }

        .player.active .player-name,
        .player.active .player-score {
            color: var(--neon-orange);
        }

        .player-head img {
            width: 55px;
            height: 55px;
            border-radius: 50%;
            border: 3px solid var(--neon-green);
            box-shadow: 0 0 10px var(--neon-green);
            object-fit: cover;
        }

        .chat-panel {
            background: var(--black-bg);
            border-radius: 10px;
            padding: 25px;
            display: flex;
            flex-direction: column;
        }

        .chat-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 20px;
            padding-bottom: 15px;
        }

        .chat-header h2 {
            color: var(--neon-blue);
            margin: 0;
            font-size: 18px;
        }

        .player-avatars {
            display: flex;
            gap: 8px;
            align-items: center;
            justify-content: center;
            background: rgba(0, 255, 255, 0.1);
            padding: 10px;
            border-radius: 15px;
            border: 1px solid var(--neon-blue);
        }

        .avatar-mini {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 3px solid var(--neon-green);
            transition: all 0.3s ease;
            box-shadow: 0 0 8px var(--neon-green);
            object-fit: cover;
        }

        .avatar-mini:hover {
            transform: scale(1.15);
            box-shadow: 0 0 15px var(--neon-green);
            border-width: 4px;
        }

        .avatar-mini.active {
            border-color: var(--neon-orange);
            box-shadow: 0 0 20px var(--neon-orange);
            border-width: 4px;
        }

        .coffee-icon {
            color: var(--neon-green);
            font-size: 24px;
            text-decoration: none;
            transition: all 0.3s ease;
            margin-left: 15px;
        }

        .coffee-icon:hover {
            color: var(--neon-orange);
            text-shadow: 0 0 10px var(--neon-orange);
            transform: scale(1.2);
        }

        /* Modal styly */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.8);
        }

        .modal-content {
            background: var(--black-bg);
            border: 2px solid var(--neon-green);
            border-radius: 10px;
            margin: 5% auto;
            padding: 30px;
            width: 80%;
            max-width: 600px;
            color: var(--neon-green);
        }

        .modal-header h2 {
            color: var(--neon-green);
            text-align: center;
            margin-bottom: 20px;
        }

        .modal-actions {
            text-align: center;
            margin-top: 20px;
        }

        /* Signature section styling */
        .signature-section {
            margin: 20px 0;
            padding: 20px;
            border: 2px solid var(--neon-orange);
            border-radius: 10px;
            background: rgba(255, 165, 0, 0.1);
            box-shadow: 0 0 15px rgba(255, 165, 0, 0.3);
        }
        
        .signature-section h3 {
            color: var(--neon-orange);
            margin-bottom: 15px;
        }
        
        .signature-input {
            margin-top: 15px;
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .signature-input input {
            background: var(--black-bg);
            border: 2px solid var(--neon-green);
            color: var(--neon-green);
            padding: 10px 15px;
            border-radius: 5px;
            font-family: 'Orbitron', monospace;
            font-size: 16px;
            min-width: 200px;
            text-align: center;
        }
        
        .signature-input input:focus {
            outline: none;
            border-color: var(--neon-orange);
            box-shadow: 0 0 10px var(--neon-orange);
        }
        
        .final-scores, .game-stats {
            margin: 15px 0;
            padding: 15px;
            border: 1px solid var(--neon-blue);
            border-radius: 5px;
            background: rgba(0, 100, 255, 0.1);
        }
        
        .score-row {
            display: flex;
            justify-content: space-between;
            margin: 5px 0;
            padding: 8px;
            border-radius: 3px;
        }
        
        .score-row.winner {
            background: rgba(0, 255, 0, 0.2);
            border: 1px solid var(--neon-green);
            font-weight: bold;
        }
        
        .winner-announcement h3 {
            color: var(--neon-orange);
            font-size: 24px;
            margin-bottom: 10px;
        }

        /* Responsive design */
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .game-title {
                font-size: 2rem;
            }
            
            .players-container {
                gap: 10px;
            }
            
            .roll-controls {
                flex-direction: column;
                align-items: center;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="game-area">
            <div class="game-header">
                <h1 class="game-title">
                    <span class="neon-icon">üé≤</span> AI Kostkov√° V√Ωzva
                    <a href="https://buymeacoffee.com/pipap" target="_blank" class="coffee-icon" title="Kup mi k√°vu" style="margin-left: 20px; font-size: 28px;">
                        ‚òï
                    </a>
                </h1>
                <div class="target-score-setup" id="targetScoreSetup">
                    <label>C√≠lov√© sk√≥re: <input type="number" id="targetScoreInput" value="10000" min="1000" step="1000"></label>
                    <button class="btn btn-primary" id="startGameBtn">Zaƒç√≠t hru</button>
                    <button class="btn btn-secondary" onclick="displayHallOfFame()" style="margin-left: 10px;">üèÜ S√≠≈à sl√°vy</button>
                </div>
            </div>

            <div class="players-container">
                <div class="player human-player active">
                    <div class="player-head">
                        <img src="/ai-icons/mind.jpeg" alt="Vy" />
                    </div>
                    <div class="player-name">Vy</div>
                    <div class="player-score">Sk√≥re: <span id="humanScore">0</span></div>
                </div>
                <div class="player gemini-player">
                    <div class="player-head">
                        <img src="/ai-icons/gemini.jpeg" alt="Gemini" />
                    </div>
                    <div class="player-name">Gemini</div>
                    <div class="player-score">Sk√≥re: <span id="geminiScore">0</span></div>
                </div>
                <div class="player chatgpt-player">
                    <div class="player-head">
                        <img src="/ai-icons/gpt.jpeg" alt="ChatGPT" />
                    </div>
                    <div class="player-name">ChatGPT</div>
                    <div class="player-score">Sk√≥re: <span id="chatgptScore">0</span></div>
                </div>
                <div class="player claude-player">
                    <div class="player-head">
                        <img src="/ai-icons/claude.jpeg" alt="Claude" />
                    </div>
                    <div class="player-name">Claude</div>
                    <div class="player-score">Sk√≥re: <span id="claudeScore">0</span></div>
                </div>
            </div>

            <div class="game-controls" id="gameControls" style="display: none;">
                <div class="turn-info" id="turnInfo">V√°≈° tah!</div>
                <div class="current-turn-score" id="currentTurnScore">Sk√≥re tahu: 0</div>
                <div class="target-info" id="targetInfo">
                    C√≠l: <span id="targetScoreDisplay">10000</span>
                </div>
                
                <div class="dice-container" id="diceContainer"></div>
                
                <div class="roll-controls">
                    <button class="btn btn-primary" id="rollBtn">Hodit kostky</button>
                    <button class="btn btn-secondary" id="bankBtn" disabled>Odlo≈æit vybran√©</button>
                    <button class="btn btn-warning" id="endTurnBtn" disabled>Ukonƒçit tah</button>
                    <button class="btn btn-danger" id="quitGameBtn">Opustit hru</button>
                </div>
            </div>
        </div>

        <div class="chat-panel">
            <div class="chat-header">
                <h2>üí¨ Chat s AI</h2>
                <div class="player-avatars">
                    <img src="/ai-icons/mind.jpeg" alt="Vy" class="avatar-mini active" title="Vy">
                    <img src="/ai-icons/gemini.jpeg" alt="Gemini" class="avatar-mini" title="Gemini">
                    <img src="/ai-icons/gpt.jpeg" alt="ChatGPT" class="avatar-mini" title="ChatGPT">
                    <img src="/ai-icons/claude.jpeg" alt="Claude" class="avatar-mini" title="Claude">
                </div>
            </div>
            
            <div class="chat-messages" id="chatMessages"></div>
            
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Napi≈°te zpr√°vu..." maxlength="200">
                <button id="sendMessageBtn">‚û§</button>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="gameOverModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéÆ Konec hry</h2>
            </div>
            <div class="modal-body">
                <div id="winnerAnnouncement" class="winner-announcement"></div>
                <div id="finalScores" class="final-scores"></div>
                <div id="gameStats" class="game-stats"></div>
                
                <!-- Signature section for human winners -->
                <div id="signatureSection" class="signature-section" style="display: none;">
                    <h3>üèÜ Gratulujeme k v√≠tƒõzstv√≠!</h3>
                    <p>Zadejte sv≈Øj podpis pro z√°pis do s√≠nƒõ sl√°vy:</p>
                    <div class="signature-input">
                        <input type="text" id="winnerSignature" placeholder="V√°≈° podpis" maxlength="30">
                        <button onclick="saveScore()" class="btn btn-success">üíæ Ulo≈æit sk√≥re</button>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button onclick="displayHallOfFame()" class="btn btn-primary">üèÜ Zobrazit s√≠≈à sl√°vy</button>
                    <button onclick="startNewGame()" class="btn btn-secondary">üîÑ Nov√° hra</button>
                    <button onclick="returnToMainMenu()" class="btn btn-secondary">üè† Hlavn√≠ menu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hall of Fame Modal -->
    <div id="hallOfFameModal" class="modal" style="display: none;">
        <div class="modal-content hall-of-fame-content">
            <div class="modal-header">
                <h2>üèÜ S√≠≈à sl√°vy</h2>
            </div>
            <div class="modal-body">
                <div id="hallOfFameContent">
                    <div id="hallOfFameList"></div>
                </div>
                <div class="modal-actions">
                    <button onclick="closeHallOfFame()" class="btn btn-secondary">‚úñÔ∏è Zav≈ô√≠t</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module">
        console.log('üé≤ AI Kostkov√° V√Ωzva - Loading...');
        
        // Import hlavn√≠ho game controlleru a chat syst√©mu
        document.addEventListener('DOMContentLoaded', async () => {
            console.log('‚úÖ DOM loaded, initializing game...');
            
            try {
                // Import modul√°rn√≠ho syst√©mu
                const { MainGameController } = await import('/src/game/mainGameController.js');
                
                // Inicializuj hlavn√≠ game controller
                const gameController = new MainGameController();
                await gameController.initialize();
                
                console.log('‚úÖ Game controller initialized successfully!');
                
                // Setup chat functionality
                const sendBtn = document.getElementById('sendMessageBtn');
                const chatInput = document.getElementById('chatInput');
                
                if (sendBtn && chatInput) {
                    sendBtn.addEventListener('click', () => {
                        const message = chatInput.value.trim();
                        if (message) {
                            addChatMessage('Vy', message);
                            chatInput.value = '';
                            
                            // Simple AI response
                            setTimeout(() => {
                                const responses = [
                                    'üìä Zaj√≠mav√° statistika! Analyzuji data...',
                                    '‚ö° O tom pr√°vƒõ mluv√≠m! P≈ôiprav se na por√°≈æku!',
                                    'üßò Zamysli se nad hlub≈°√≠m v√Ωznamem sv√© strategie...',
                                    'üé≤ Nech kostky rozhodnout o tv√©m osudu!'
                                ];
                                const randomResponse = responses[Math.floor(Math.random() * responses.length)];
                                const aiNames = ['Gemini', 'ChatGPT', 'Claude'];
                                const randomAI = aiNames[Math.floor(Math.random() * aiNames.length)];
                                addChatMessage(randomAI, randomResponse);
                            }, 1000 + Math.random() * 1000);
                        }
                    });
                    
                    chatInput.addEventListener('keypress', (e) => {
                        if (e.key === 'Enter') {
                            sendBtn.click();
                        }
                    });
                }
                
                // Setup hall of fame
                window.displayHallOfFame = () => {
                    console.log('üèÜ Zobrazuji s√≠≈à sl√°vy...');
                    const modal = document.getElementById('hallOfFameModal');
                    const list = document.getElementById('hallOfFameList');
                    
                    if (modal && list) {
                        // Naƒçti data ze s√≠nƒõ sl√°vy
                        const hallOfFame = JSON.parse(localStorage.getItem('diceGameHallOfFame') || '[]');
                        
                        if (hallOfFame.length === 0) {
                            list.innerHTML = `
                                <div style="text-align: center; padding: 40px; color: var(--neon-green);">
                                    <h3>üèÜ S√≠≈à sl√°vy je pr√°zdn√°</h3>
                                    <p>Zat√≠m ≈æ√°dn√© z√°znamy...</p>
                                    <p style="font-size: 14px; opacity: 0.7;">Vyhrajte hru a zapi≈°te se do historie!</p>
                                </div>
                            `;
                        } else {
                            list.innerHTML = hallOfFame.map((game, index) => `
                                <div class="hall-of-fame-entry" style="
                                    border: 1px solid var(--neon-green);
                                    margin: 10px 0;
                                    padding: 15px;
                                    border-radius: 5px;
                                    background: rgba(0,255,0,0.1);
                                ">
                                    <div style="display: flex; justify-content: space-between; align-items: center;">
                                        <div>
                                            <span style="font-size: 18px; font-weight: bold; color: var(--neon-orange);">
                                                #${index + 1} üèÜ ${game.signature || 'Anonym'}
                                            </span>
                                            <div style="margin-top: 5px; color: var(--neon-green);">
                                                üéØ Sk√≥re: ${game.score}/${game.targetScore} | 
                                                ‚è±Ô∏è Trv√°n√≠: ${game.duration} | 
                                                üé≤ Tah≈Ø: ${game.turns}
                                            </div>
                                        </div>
                                        <div style="text-align: right; color: var(--neon-blue);">
                                            üìÖ ${game.date}<br>
                                            üïê ${game.time}
                                        </div>
                                    </div>
                                </div>
                            `).join('');
                        }
                        
                        modal.style.display = 'block';
                        addChatMessage('Syst√©m', 'üèÜ S√≠≈à sl√°vy zobrazena');
                    }
                };
                
                window.closeHallOfFame = () => {
                    const modal = document.getElementById('hallOfFameModal');
                    if (modal) {
                        modal.style.display = 'none';
                    }
                };
                
                // Setup game over modal functions
                window.closeGameOverModal = () => {
                    const modal = document.getElementById('gameOverModal');
                    if (modal) {
                        modal.style.display = 'none';
                    }
                };
                
                window.startNewGame = () => {
                    console.log('üîÑ Starting new game...');
                    window.closeGameOverModal();
                    
                    // Reset game state
                    if (window.gameController) {
                        window.gameController.gameStarted = false;
                    }
                    
                    // Reset UI
                    document.getElementById('gameControls').style.display = 'none';
                    document.getElementById('targetScoreSetup').style.display = 'block';
                    
                    // Reset all player scores
                    document.getElementById('humanScore').textContent = '0';
                    document.getElementById('geminiScore').textContent = '0';
                    document.getElementById('chatgptScore').textContent = '0';
                    document.getElementById('claudeScore').textContent = '0';
                    
                    // Reset dice container
                    const diceContainer = document.getElementById('diceContainer');
                    if (diceContainer) {
                        diceContainer.innerHTML = '';
                    }
                    
                    // Reset turn info
                    const turnInfo = document.getElementById('turnInfo');
                    const currentTurnScore = document.getElementById('currentTurnScore');
                    if (turnInfo) turnInfo.textContent = 'V√°≈° tah!';
                    if (currentTurnScore) currentTurnScore.textContent = 'Sk√≥re tahu: 0';
                    
                    // Clear chat
                    const chatMessages = document.getElementById('chatMessages');
                    if (chatMessages) {
                        chatMessages.innerHTML = '';
                    }
                    
                    addChatMessage('Syst√©m', 'üéÆ P≈ôipraveno pro novou hru! Nastavte c√≠lov√© sk√≥re a zaƒçnƒõte.');
                };
                
                window.returnToMainMenu = () => {
                    console.log('üè† Returning to main menu...');
                    window.startNewGame(); // Same as new game for now
                };
                
                window.saveScore = () => {
                    const signatureInput = document.getElementById('winnerSignature');
                    const signature = signatureInput?.value?.trim();
                    
                    if (!signature) {
                        alert('Pros√≠m zadejte sv≈Øj podpis!');
                        return;
                    }
                    
                    // Get actual game data if available
                    let score = 10000; // default
                    let targetScore = 10000; // default
                    let turns = 15; // default
                    let duration = '5:30'; // default
                    
                    // Try to get real game data
                    const humanScoreEl = document.getElementById('humanScore');
                    const targetScoreEl = document.getElementById('targetScoreDisplay');
                    
                    if (humanScoreEl) {
                        score = parseInt(humanScoreEl.textContent) || score;
                    }
                    if (targetScoreEl) {
                        targetScore = parseInt(targetScoreEl.textContent) || targetScore;
                    }
                    
                    // Try to get game controller data if available
                    if (window.gameController && window.gameController.gameStarted) {
                        // Calculate duration from game start
                        const gameStart = window.gameController.gameStartTime || new Date();
                        const gameDuration = Date.now() - gameStart.getTime();
                        const minutes = Math.floor(gameDuration / 60000);
                        const seconds = Math.floor((gameDuration % 60000) / 1000);
                        duration = `${minutes}:${seconds.toString().padStart(2, '0')}`;
                        
                        // Get turn count if available
                        if (window.gameController.totalTurns) {
                            turns = window.gameController.totalTurns;
                        }
                    }
                    
                    // Create game result object
                    const gameResult = {
                        signature: signature,
                        score: score,
                        targetScore: targetScore,
                        turns: turns,
                        duration: duration,
                        date: new Date().toLocaleDateString('cs-CZ'),
                        time: new Date().toLocaleTimeString('cs-CZ')
                    };
                    
                    // Save to localStorage
                    const hallOfFame = JSON.parse(localStorage.getItem('diceGameHallOfFame') || '[]');
                    hallOfFame.push(gameResult);
                    hallOfFame.sort((a, b) => b.score - a.score); // Sort by score desc
                    localStorage.setItem('diceGameHallOfFame', JSON.stringify(hallOfFame));
                    
                    addChatMessage('Syst√©m', `üèÜ Sk√≥re ${gameResult.score} ulo≈æeno do s√≠nƒõ sl√°vy s podpisem "${signature}"!`);
                    
                    // Hide signature section
                    const signatureSection = document.getElementById('signatureSection');
                    if (signatureSection) {
                        signatureSection.style.display = 'none';
                    }
                    
                    // Show hall of fame
                    setTimeout(() => {
                        window.displayHallOfFame();
                    }, 1000);
                };
                
                // Welcome message
                setTimeout(() => {
                    addChatMessage('Syst√©m', 'üé≤ V√≠tejte v AI Kostkov√© v√Ωzvƒõ! Nastavte c√≠lov√© sk√≥re a zaƒçnƒõte hr√°t!');
                }, 500);
                
            } catch (error) {
                console.error('‚ùå Error initializing game:', error);
                
                // Fallback functionality
                setupBasicFallback();
            }
        });
        
        // Fallback pro z√°kladn√≠ funkcionalitu
        function setupBasicFallback() {
            console.log('üîÑ Setting up basic fallback functionality...');
            
            document.getElementById('startGameBtn')?.addEventListener('click', () => {
                document.getElementById('targetScoreSetup').style.display = 'none';
                document.getElementById('gameControls').style.display = 'block';
                addChatMessage('Syst√©m', 'üéÆ Hra spu≈°tƒõna (z√°kladn√≠ re≈æim)!');
            });
            
            document.getElementById('quitGameBtn')?.addEventListener('click', () => {
                if (confirm('Opravdu chcete opustit hru?')) {
                    document.getElementById('gameControls').style.display = 'none';
                    document.getElementById('targetScoreSetup').style.display = 'block';
                    addChatMessage('Syst√©m', 'üö™ Hra byla opu≈°tƒõna');
                }
            });
        }
        
        // Chat message funkce
        function addChatMessage(sender, message) {
            const chatMessages = document.getElementById('chatMessages');
            if (!chatMessages) return;
            
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message';
            messageDiv.innerHTML = `
                <div class="message-header">
                    <span class="message-sender">${sender}</span>
                    <span class="message-time">${new Date().toLocaleTimeString()}</span>
                </div>
                <div class="message-content">${message}</div>
            `;
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }
        
        // Make functions global
        window.addChatMessage = addChatMessage;
        
        console.log('‚úÖ AI Kostkov√° V√Ωzva ready!');
    </script>
    
    <!-- Backup inline script for debugging -->
    <script>
        console.log('üîß Backup script loading...');
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üîß DOM loaded, backup listeners ready...');
            
            // Extra backup start game listener
            const startBtn = document.getElementById('startGameBtn');
            if (startBtn && !startBtn.hasAttribute('data-backup-added')) {
                startBtn.setAttribute('data-backup-added', 'true');
                startBtn.addEventListener('click', () => {
                    console.log('üöÄ Backup start button activated!');
                    const setup = document.getElementById('targetScoreSetup');
                    const controls = document.getElementById('gameControls');
                    if (setup && controls) {
                        setup.style.display = 'none';
                        controls.style.display = 'block';
                    }
                });
            }
        });
    </script>

    <script type="module">
        console.log('üé≤ AI Kostkov√° V√Ωzva - Loading...');
        
        // Import debug funkc√≠ pro v√Ωvoj
        if (window.location.hostname === 'localhost') {
            import('/debug-functions.js').then(() => {
                console.log('üß™ Debug funkce naƒçteny');
                // P≈ôidej debug menu po 2 sekund√°ch
                setTimeout(() => {
                    if (window.addDebugMenu) {
                        window.addDebugMenu();
                    }
                }, 2000);
            }).catch(err => console.log('Debug funkce nejsou dostupn√©'));
        }
    </script>
</body>
</html>
