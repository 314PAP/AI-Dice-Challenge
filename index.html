<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé≤ AI Kostkov√° V√Ωzva</title>
    <link rel="icon" type="image/svg+xml" href="/dice.svg" />
    
    <!-- CSS stylov√°n√≠ -->
    <link rel="stylesheet" href="/src/styles/main.css">
    <link rel="stylesheet" href="/src/styles/game.css">
    <link rel="stylesheet" href="/src/styles/components.css">
    <link rel="stylesheet" href="/src/styles/chat.css">
</head>
<body>
    <div class="container">
        <div class="game-area">
            <div class="game-header">
                <h1 class="game-title"><span class="neon-icon">üé≤</span> AI Kostkov√° V√Ωzva</h1>
                <div class="target-score-setup" id="targetScoreSetup">
                    <label>C√≠lov√© sk√≥re: <input type="number" id="targetScoreInput" value="10000" min="1000" step="1000"></label>
                    <button class="btn btn-primary" id="startGameBtn">Zaƒç√≠t hru</button>
                    <button class="btn btn-secondary" onclick="displayHallOfFame()" style="margin-left: 10px;">üèÜ S√≠≈à sl√°vy</button>
                </div>
                
                <a href="https://buymeacoffee.com/pipap" target="_blank" class="coffee-link">
                    <span class="neon-icon">‚òï</span> Kup mi k√°vu
                </a>
            </div>

            <div class="players-container">
                <div class="player human-player active">
                    <div class="player-head">
                        <img src="/ai-icons/mind.jpeg" alt="Vy" />
                    </div>
                    <div class="player-name">Vy</div>
                    <div class="player-score">Sk√≥re: <span id="humanScore">0</span></div>
                </div>
                <div class="player gemini-player">
                    <div class="player-head">
                        <img src="/ai-icons/gemini.jpeg" alt="Gemini" />
                    </div>
                    <div class="player-name">Gemini</div>
                    <div class="player-score">Sk√≥re: <span id="geminiScore">0</span></div>
                </div>
                <div class="player chatgpt-player">
                    <div class="player-head">
                        <img src="/ai-icons/gpt.jpeg" alt="ChatGPT" />
                    </div>
                    <div class="player-name">ChatGPT</div>
                    <div class="player-score">Sk√≥re: <span id="chatgptScore">0</span></div>
                </div>
                <div class="player claude-player">
                    <div class="player-head">
                        <img src="/ai-icons/claude.jpeg" alt="Claude" />
                    </div>
                    <div class="player-name">Claude</div>
                    <div class="player-score">Sk√≥re: <span id="claudeScore">0</span></div>
                </div>
            </div>

            <div class="game-controls" id="gameControls" style="display: none;">
                <div class="turn-info" id="turnInfo">V√°≈° tah!</div>
                <div class="current-turn-score" id="currentTurnScore">Sk√≥re tahu: 0</div>
                <div class="target-info" id="targetInfo">
                    C√≠l: <span id="targetScoreDisplay">10000</span>
                </div>
                
                <div class="dice-container" id="diceContainer"></div>
                
                <div class="roll-controls">
                    <button class="btn btn-primary" id="rollBtn">Hodit kostky</button>
                    <button class="btn btn-secondary" id="bankBtn" disabled>Odlo≈æit vybran√©</button>
                    <button class="btn btn-warning" id="endTurnBtn" disabled>Ukonƒçit tah</button>
                    <button class="btn btn-danger" id="quitGameBtn">Opustit hru</button>
                </div>
            </div>
        </div>

        <div class="chat-panel">
            <div class="chat-header">
                <h2>üí¨ Chat s AI</h2>
            </div>
            
            <div class="chat-messages" id="chatMessages"></div>
            
            <div class="chat-input">
                <input type="text" id="chatInput" placeholder="Napi≈°te zpr√°vu..." maxlength="200">
                <button id="sendMessageBtn">‚û§</button>
            </div>
        </div>
    </div>

    <!-- Game Over Modal -->
    <div id="gameOverModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üéÆ Konec hry</h2>
            </div>
            <div class="modal-body">
                <div id="winnerAnnouncement" class="winner-announcement"></div>
                <div id="finalScores" class="final-scores"></div>
                <div id="gameStats" class="game-stats"></div>
                
                <!-- Signature section for human winners -->
                <div id="signatureSection" class="signature-section" style="display: none;">
                    <h3>üèÜ Gratulujeme k v√≠tƒõzstv√≠!</h3>
                    <p>Zadejte sv≈Øj podpis pro z√°pis do s√≠nƒõ sl√°vy:</p>
                    <div class="signature-input">
                        <input type="text" id="winnerSignature" placeholder="V√°≈° podpis" maxlength="30">
                        <button onclick="saveScore()" class="btn btn-success">üíæ Ulo≈æit sk√≥re</button>
                    </div>
                </div>
                
                <div class="modal-actions">
                    <button onclick="displayHallOfFame()" class="btn btn-primary">üèÜ Zobrazit s√≠≈à sl√°vy</button>
                    <button onclick="startNewGame()" class="btn btn-secondary">üîÑ Nov√° hra</button>
                    <button onclick="returnToMainMenu()" class="btn btn-secondary">üè† Hlavn√≠ menu</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Hall of Fame Modal -->
    <div id="hallOfFameModal" class="modal" style="display: none;">
        <div class="modal-content hall-of-fame-content">
            <div class="modal-header">
                <h2>üèÜ S√≠≈à sl√°vy</h2>
            </div>
            <div class="modal-body">
                <div id="hallOfFameContent">
                    <div id="hallOfFameList"></div>
                </div>
                <div class="modal-actions">
                    <button onclick="closeHallOfFame()" class="btn btn-secondary">‚úñÔ∏è Zav≈ô√≠t</button>
                </div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/js/main.js"></script>
    
    <!-- Temporary inline script for debugging -->
    <script>
        console.log('üîß Inline script loading...');
        document.addEventListener('DOMContentLoaded', () => {
            console.log('üîß DOM loaded, adding backup listeners...');
            
            // Backup start game listener
            const startBtn = document.getElementById('startGameBtn');
            if (startBtn) {
                console.log('‚úÖ Found start button, adding backup listener');
                startBtn.addEventListener('click', () => {
                    console.log('üöÄ Backup start button clicked!');
                    document.getElementById('targetScoreSetup').style.display = 'none';
                    document.getElementById('gameControls').style.display = 'block';
                    alert('Game started! (backup handler)');
                });
            } else {
                console.error('‚ùå Start button not found!');
            }
        });
    </script>
</body>
</html>
