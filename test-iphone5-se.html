<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>üé≤ Mobile Test - iPhone 5/SE</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css" rel="stylesheet">
    
    <style>
        :root {
            --neon-green: #39ff14;
            --neon-blue: #194dd1;
            --neon-purple: #ff00ff;
            --neon-orange: #ff8800;
        }
        
        body {
            font-family: 'Courier New', monospace;
            background: #000;
            color: var(--neon-green);
            font-size: 12px;
            margin: 0;
            padding: 0;
        }
        
        .text-neon-green { color: var(--neon-green) !important; }
        .text-neon-blue { color: var(--neon-blue) !important; }
        .text-neon-purple { color: var(--neon-purple) !important; }
        .text-neon-orange { color: var(--neon-orange) !important; }
        
        .border-neon-green { border-color: var(--neon-green) !important; }
        .border-neon-blue { border-color: var(--neon-blue) !important; }
        .border-neon-purple { border-color: var(--neon-purple) !important; }
        
        .btn-tiny {
            border: 1px solid var(--neon-green);
            background: transparent;
            color: var(--neon-green);
            padding: 4px 8px;
            font-size: 10px;
            font-weight: bold;
            border-radius: 4px;
            min-height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .btn-tiny:active {
            background: var(--neon-green);
            color: #000;
            transform: scale(0.95);
        }
        
        .dice-tiny {
            width: 36px;
            height: 36px;
            border: 1px solid var(--neon-green);
            background: transparent;
            color: var(--neon-green);
            font-size: 12px;
            font-weight: bold;
            border-radius: 4px;
            margin: 1px;
        }
        
        .dice-tiny:active, .dice-tiny.selected {
            background: var(--neon-green);
            color: #000;
        }
        
        .chat-tiny {
            height: 120px;
            overflow-y: auto;
            border: 1px solid var(--neon-purple);
            border-radius: 4px;
            padding: 4px;
            font-size: 10px;
            margin-bottom: 8px;
        }
        
        .input-tiny {
            background: transparent;
            border: 1px solid var(--neon-blue);
            color: var(--neon-green);
            font-size: 11px;
            padding: 6px;
            border-radius: 4px;
            min-height: 40px;
        }
        
        .input-tiny:focus {
            outline: none;
            border-color: var(--neon-green);
        }
        
        /* iPhone 5/SE (320px) optimizations */
        @media (max-width: 320px) {
            body { font-size: 11px; }
            .dice-tiny { width: 32px; height: 32px; font-size: 11px; }
            .btn-tiny { padding: 3px 6px; font-size: 9px; min-height: 36px; }
            .chat-tiny { height: 100px; }
            h6 { font-size: 12px; }
        }
        
        /* Landscape very small screens */
        @media (orientation: landscape) and (max-height: 400px) {
            .chat-tiny { height: 80px; }
            .container-fluid { padding: 4px !important; }
            .card { margin-bottom: 4px !important; }
            h6 { font-size: 11px; margin-bottom: 4px !important; }
        }
        
        /* Ultra compact for very small screens */
        @media (max-width: 280px) {
            body { font-size: 10px; }
            .dice-tiny { width: 28px; height: 28px; font-size: 10px; }
            .btn-tiny { padding: 2px 4px; font-size: 8px; min-height: 32px; }
        }
        
        .card-tiny {
            background: transparent;
            border: 1px solid;
            border-radius: 4px;
            margin-bottom: 8px;
        }
        
        .card-tiny .card-header {
            background: transparent;
            border-bottom: 1px solid;
            padding: 4px 8px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .card-tiny .card-body {
            padding: 8px;
        }
    </style>
</head>
<body>
    
    <div class="container-fluid" style="padding: 8px; min-height: 100vh;">
        
        <!-- Ultra compact header -->
        <div class="row mb-2">
            <div class="col-12 text-center">
                <h6 class="text-neon-green mb-1">üé≤ AI Dice</h6>
                <small class="text-neon-blue" style="font-size: 9px;">iPhone 5/SE Test</small>
            </div>
        </div>
        
        <!-- Game status - ultra compact -->
        <div class="row mb-2">
            <div class="col-12">
                <div class="card-tiny border-neon-blue">
                    <div class="card-body p-1">
                        <div class="row text-center" style="font-size: 10px;">
                            <div class="col-3">
                                <div class="text-neon-blue">Sk√≥re</div>
                                <strong class="text-neon-green">12.5K</strong>
                            </div>
                            <div class="col-3">
                                <div class="text-neon-blue">Tah</div>
                                <strong class="text-neon-orange">3/6</strong>
                            </div>
                            <div class="col-3">
                                <div class="text-neon-blue">Hr√°ƒç</div>
                                <strong class="text-neon-purple">You</strong>
                            </div>
                            <div class="col-3">
                                <div class="text-neon-blue">Body</div>
                                <strong class="text-neon-yellow">+800</strong>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Game area - compact dice -->
        <div class="row mb-2">
            <div class="col-12">
                <div class="card-tiny border-neon-green">
                    <div class="card-header border-neon-green text-neon-green">
                        Kostky
                    </div>
                    <div class="card-body">
                        
                        <!-- Active dice - 2 rows for small screens -->
                        <div class="mb-2">
                            <small class="text-neon-blue d-block mb-1">Aktivn√≠:</small>
                            <div class="d-flex flex-wrap justify-content-center">
                                <button class="dice-tiny">1</button>
                                <button class="dice-tiny">3</button>
                                <button class="dice-tiny selected">5</button>
                                <button class="dice-tiny">2</button>
                                <button class="dice-tiny">6</button>
                            </div>
                        </div>
                        
                        <!-- Saved dice -->
                        <div class="mb-2">
                            <small class="text-neon-green d-block mb-1">Ulo≈æen√©:</small>
                            <div class="d-flex flex-wrap justify-content-center">
                                <button class="dice-tiny selected">1</button>
                                <button class="dice-tiny selected">1</button>
                                <button class="dice-tiny selected">5</button>
                            </div>
                        </div>
                        
                        <!-- Compact buttons -->
                        <div class="d-grid gap-1">
                            <button class="btn-tiny">
                                üé≤ Hodit (2)
                            </button>
                            <button class="btn-tiny" style="border-color: var(--neon-orange); color: var(--neon-orange);">
                                ‚úì Ulo≈æit (800)
                            </button>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Chat area - very compact -->
        <div class="row">
            <div class="col-12">
                <div class="card-tiny border-neon-purple">
                    <div class="card-header border-neon-purple text-neon-purple">
                        AI Chat
                    </div>
                    <div class="card-body">
                        
                        <!-- Ultra compact chat -->
                        <div class="chat-tiny">
                            <div style="margin-bottom: 6px; padding: 3px; border-left: 2px solid var(--neon-blue); padding-left: 6px;">
                                <strong class="text-neon-orange">G:</strong>
                                <span class="text-neon-green"> T≈ôi 1Ô∏è‚É£! 800 bod≈Ø je super.</span>
                            </div>
                            <div style="margin-bottom: 6px; padding: 3px; border-left: 2px solid var(--neon-blue); padding-left: 6px;">
                                <strong class="text-neon-blue">C:</strong>
                                <span class="text-neon-green"> Risknout nebo ulo≈æit?</span>
                            </div>
                            <div style="margin-bottom: 6px; padding: 3px; border-left: 2px solid var(--neon-blue); padding-left: 6px;">
                                <strong class="text-neon-red">GPT:</strong>
                                <span class="text-neon-green"> 2 kostky = mal√© riziko!</span>
                            </div>
                        </div>
                        
                        <!-- Ultra compact input -->
                        <div class="d-flex gap-1">
                            <input type="text" class="input-tiny flex-fill" placeholder="Zpr√°va...">
                            <button class="btn-tiny" style="min-width: 40px;">
                                üì§
                            </button>
                        </div>
                        
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Safety spacer for bottom navigation -->
        <div style="height: 20px;"></div>
        
    </div>

    <script>
        // Ultra mobile optimizations
        document.addEventListener('DOMContentLoaded', function() {
            
            // Prevent zoom
            document.addEventListener('touchstart', function(e) {
                if (e.touches.length > 1) {
                    e.preventDefault();
                }
            }, { passive: false });
            
            let lastTouchEnd = 0;
            document.addEventListener('touchend', function(e) {
                const now = (new Date()).getTime();
                if (now - lastTouchEnd <= 300) {
                    e.preventDefault();
                }
                lastTouchEnd = now;
            }, false);
            
            // Handle dice selection
            document.querySelectorAll('.dice-tiny').forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    this.classList.toggle('selected');
                    
                    // Haptic feedback
                    if (navigator.vibrate) {
                        navigator.vibrate(30);
                    }
                });
            });
            
            // Touch feedback for all buttons
            document.querySelectorAll('.btn-tiny, .dice-tiny').forEach(button => {
                button.addEventListener('touchstart', function() {
                    this.style.transform = 'scale(0.9)';
                });
                
                button.addEventListener('touchend', function() {
                    this.style.transform = 'scale(1)';
                });
            });
            
            // Debug info
            console.log('Ultra mobile test loaded');
            console.log('Screen size:', window.innerWidth + 'x' + window.innerHeight);
            console.log('Device pixel ratio:', window.devicePixelRatio);
            console.log('Safe area insets:', getComputedStyle(document.documentElement).getPropertyValue('--sat'));
            
            // Log orientation changes
            window.addEventListener('orientationchange', function() {
                setTimeout(() => {
                    console.log('New orientation:', window.innerWidth + 'x' + window.innerHeight);
                    console.log('Available height:', window.innerHeight);
                }, 100);
            });
        });
    </script>
</body>
</html>
