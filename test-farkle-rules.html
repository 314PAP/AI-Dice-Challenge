<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test Farkle Rules</title>
    <style>
        body { font-family: monospace; background: #1a1a1a; color: #00ff00; padding: 20px; }
        .test-result { margin: 10px 0; padding: 10px; background: #2a2a2a; border-radius: 5px; }
        .pass { border-left: 5px solid #00ff00; }
        .fail { border-left: 5px solid #ff0000; }
    </style>
</head>
<body>
    <h1>ğŸ² Test Farkle Rules</h1>
    <div id="results"></div>
    
    <script>
        // MinimÃ¡lnÃ­ implementace pro test
        function calculateScore(diceValues) {
            if (!Array.isArray(diceValues) || diceValues.length === 0) {
                return 0;
            }
            
            // SpoÄÃ­tej frekvenci kaÅ¾dÃ©ho ÄÃ­sla
            const counts = {};
            diceValues.forEach(value => {
                counts[value] = (counts[value] || 0) + 1;
            });
            
            let score = 0;
            
            // Zpracuj kaÅ¾dÃ© ÄÃ­slo
            Object.entries(counts).forEach(([number, count]) => {
                const num = parseInt(number);
                
                if (num === 1) {
                    // JedniÄky: 3+ = 1000 bodÅ¯, jednotlivÃ© = 100 bodÅ¯
                    if (count >= 3) {
                        score += 1000; // Triple jedniÄek
                        score += (count - 3) * 100; // ZbÃ½vajÃ­cÃ­ jedniÄky
                    } else {
                        score += count * 100; // JednotlivÃ© jedniÄky
                    }
                } else if (num === 5) {
                    // PÄ›tky: 3+ = 500 bodÅ¯, jednotlivÃ© = 50 bodÅ¯
                    if (count >= 3) {
                        score += 500; // Triple pÄ›tek
                        score += (count - 3) * 50; // ZbÃ½vajÃ­cÃ­ pÄ›tky
                    } else {
                        score += count * 50; // JednotlivÃ© pÄ›tky
                    }
                } else {
                    // OstatnÃ­ ÄÃ­sla (2,3,4,6): pouze 3+ kostky bodujÃ­
                    if (count >= 3) {
                        score += num * 100; // ZÃ¡kladnÃ­ triple
                        score += (count - 3) * 100; // DalÅ¡Ã­ kostky stejnÃ© hodnoty
                    }
                }
            });
            
            return score;
        }
        
        // Test cases
        const testCases = [
            { dice: [1], expected: 100, description: "Jedna jedniÄka = 100 bodÅ¯" },
            { dice: [1, 1], expected: 200, description: "DvÄ› jedniÄky = 200 bodÅ¯" },
            { dice: [1, 1, 1], expected: 1000, description: "TÅ™i jedniÄky = 1000 bodÅ¯" },
            { dice: [1, 1, 1, 1], expected: 1100, description: "ÄŒtyÅ™i jedniÄky = 1100 bodÅ¯" },
            { dice: [5], expected: 50, description: "Jedna pÄ›tka = 50 bodÅ¯" },
            { dice: [5, 5], expected: 100, description: "DvÄ› pÄ›tky = 100 bodÅ¯" },
            { dice: [5, 5, 5], expected: 500, description: "TÅ™i pÄ›tky = 500 bodÅ¯" },
            { dice: [5, 5, 5, 5], expected: 550, description: "ÄŒtyÅ™i pÄ›tky = 550 bodÅ¯" },
            { dice: [2, 2, 2], expected: 200, description: "TÅ™i dvojky = 200 bodÅ¯" },
            { dice: [3, 3, 3], expected: 300, description: "TÅ™i trojky = 300 bodÅ¯" },
            { dice: [4, 4, 4], expected: 400, description: "TÅ™i ÄtyÅ™ky = 400 bodÅ¯" },
            { dice: [6, 6, 6], expected: 600, description: "TÅ™i Å¡estky = 600 bodÅ¯" },
            { dice: [2, 2, 2, 2], expected: 300, description: "ÄŒtyÅ™i dvojky = 300 bodÅ¯" },
            { dice: [2], expected: 0, description: "Jedna dvojka = 0 bodÅ¯" },
            { dice: [3], expected: 0, description: "Jedna trojka = 0 bodÅ¯" },
            { dice: [4], expected: 0, description: "Jedna ÄtyÅ™ka = 0 bodÅ¯" },
            { dice: [6], expected: 0, description: "Jedna Å¡estka = 0 bodÅ¯" },
            { dice: [1, 5], expected: 150, description: "Jedna jedniÄka + jedna pÄ›tka = 150 bodÅ¯" },
            { dice: [1, 1, 5, 5], expected: 300, description: "DvÄ› jedniÄky + dvÄ› pÄ›tky = 300 bodÅ¯" },
            { dice: [1, 1, 1, 5, 5, 5], expected: 1500, description: "TÅ™i jedniÄky + tÅ™i pÄ›tky = 1500 bodÅ¯" },
            { dice: [1, 6, 3, 6, 4, 6], expected: 700, description: "Jedna jedniÄka + tÅ™i Å¡estky = 700 bodÅ¯" },
            { dice: [2, 3, 4, 6], expected: 0, description: "Å½Ã¡dnÃ© bodujÃ­cÃ­ kostky = 0 bodÅ¯ (FARKLE)" }
        ];
        
        // SpuÅ¡tÄ›nÃ­ testÅ¯
        const resultsDiv = document.getElementById('results');
        let passCount = 0;
        let failCount = 0;
        
        testCases.forEach((testCase, index) => {
            const result = calculateScore(testCase.dice);
            const passed = result === testCase.expected;
            
            if (passed) passCount++;
            else failCount++;
            
            const testDiv = document.createElement('div');
            testDiv.className = `test-result ${passed ? 'pass' : 'fail'}`;
            testDiv.innerHTML = `
                <strong>Test ${index + 1}:</strong> ${testCase.description}<br>
                <strong>Kostky:</strong> [${testCase.dice.join(', ')}]<br>
                <strong>OÄekÃ¡vÃ¡no:</strong> ${testCase.expected} bodÅ¯<br>
                <strong>VÃ½sledek:</strong> ${result} bodÅ¯<br>
                <strong>Status:</strong> ${passed ? 'âœ… PASS' : 'âŒ FAIL'}
            `;
            
            resultsDiv.appendChild(testDiv);
        });
        
        // ShrnutÃ­
        const summaryDiv = document.createElement('div');
        summaryDiv.className = 'test-result';
        summaryDiv.innerHTML = `
            <h2>ğŸ“Š ShrnutÃ­ testÅ¯</h2>
            <strong>ÃšspÄ›Å¡nÃ©:</strong> ${passCount}<br>
            <strong>NeÃºspÄ›Å¡nÃ©:</strong> ${failCount}<br>
            <strong>Celkem:</strong> ${testCases.length}<br>
            <strong>ÃšspÄ›Å¡nost:</strong> ${Math.round((passCount / testCases.length) * 100)}%
        `;
        resultsDiv.appendChild(summaryDiv);
        
        // VÃ½pis do konzole
        console.log('ğŸ² Farkle Rules Test Results:');
        console.log(`âœ… Passed: ${passCount}`);
        console.log(`âŒ Failed: ${failCount}`);
        console.log(`ğŸ“Š Success rate: ${Math.round((passCount / testCases.length) * 100)}%`);
    </script>
</body>
</html>
