<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farkle Game Test</title>
    <style>
        body { font-family: monospace; background: #1a1a1a; color: #00ff00; padding: 20px; }
        .test-section { margin: 20px 0; padding: 15px; background: #2a2a2a; border-radius: 5px; }
        .status { padding: 5px; margin: 5px 0; border-radius: 3px; }
        .pass { background: #004400; color: #00ff00; }
        .fail { background: #440000; color: #ff0000; }
        .info { background: #004444; color: #00ffff; }
        .button { padding: 10px 15px; margin: 5px; background: #444; color: #fff; border: none; border-radius: 3px; cursor: pointer; }
        .button:hover { background: #666; }
        .button:disabled { background: #222; color: #666; cursor: not-allowed; }
    </style>
</head>
<body>
    <h1>üé≤ Farkle Game Manual Test</h1>
    
    <div class="test-section">
        <h2>Test 1: Vstup do hry (300 bod≈Ø minimum)</h2>
        <div id="entryTest">
            <p>Simulace hr√°ƒçe s r≈Øzn√Ωm sk√≥re:</p>
            <button class="button" onclick="testEntry(250)">Test 250 bod≈Ø (nedostateƒçn√©)</button>
            <button class="button" onclick="testEntry(300)">Test 300 bod≈Ø (minimum)</button>
            <button class="button" onclick="testEntry(450)">Test 450 bod≈Ø (dostateƒçn√©)</button>
            <div id="entryResults"></div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 2: V√Ωpoƒçet sk√≥re</h2>
        <div id="scoreTest">
            <p>Testov√°n√≠ r≈Øzn√Ωch kombinac√≠ kostek:</p>
            <button class="button" onclick="testDice([1,1,1,5,5,6])">Test [1,1,1,5,5,6] = 1100 bod≈Ø</button>
            <button class="button" onclick="testDice([1,6,3,6,4,6])">Test [1,6,3,6,4,6] = 700 bod≈Ø</button>
            <button class="button" onclick="testDice([2,3,4,6])">Test [2,3,4,6] = 0 bod≈Ø (FARKLE)</button>
            <button class="button" onclick="testDice([5,5,5,5,5,5])">Test [5,5,5,5,5,5] = 650 bod≈Ø</button>
            <div id="scoreResults"></div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 3: Podm√≠nky tlaƒç√≠tek</h2>
        <div id="buttonTest">
            <p>Simulace stavu tlaƒç√≠tek:</p>
            <button class="button" onclick="testButtonState(false, 250)">Hr√°ƒç mimo hru, 250 bod≈Ø</button>
            <button class="button" onclick="testButtonState(false, 300)">Hr√°ƒç mimo hru, 300 bod≈Ø</button>
            <button class="button" onclick="testButtonState(true, 150)">Hr√°ƒç ve h≈ôe, 150 bod≈Ø</button>
            <div id="buttonResults"></div>
        </div>
    </div>
    
    <div class="test-section">
        <h2>Test 4: AI chov√°n√≠</h2>
        <div id="aiTest">
            <p>Testov√°n√≠ AI logiky:</p>
            <button class="button" onclick="testAI(false)">AI mimo hru (mus√≠ z√≠skat 300+ bod≈Ø)</button>
            <button class="button" onclick="testAI(true)">AI ve h≈ôe (norm√°ln√≠ tah)</button>
            <div id="aiResults"></div>
        </div>
    </div>
    
    <script>
        // Simulace calculate score funkce
        function calculateScore(diceValues) {
            if (!Array.isArray(diceValues) || diceValues.length === 0) {
                return 0;
            }
            
            const counts = {};
            diceValues.forEach(value => {
                counts[value] = (counts[value] || 0) + 1;
            });
            
            let score = 0;
            
            Object.entries(counts).forEach(([number, count]) => {
                const num = parseInt(number);
                
                if (num === 1) {
                    if (count >= 3) {
                        score += 1000;
                        score += (count - 3) * 100;
                    } else {
                        score += count * 100;
                    }
                } else if (num === 5) {
                    if (count >= 3) {
                        score += 500;
                        score += (count - 3) * 50;
                    } else {
                        score += count * 50;
                    }
                } else {
                    if (count >= 3) {
                        score += num * 100;
                        score += (count - 3) * 100;
                    }
                }
            });
            
            return score;
        }
        
        // Test 1: Vstup do hry
        function testEntry(turnScore) {
            const gameEntryMinimum = 300;
            const canEnterGame = turnScore >= gameEntryMinimum;
            
            const result = document.createElement('div');
            result.className = `status ${canEnterGame ? 'pass' : 'fail'}`;
            result.innerHTML = `
                <strong>Sk√≥re tahu:</strong> ${turnScore} bod≈Ø<br>
                <strong>Minimum:</strong> ${gameEntryMinimum} bod≈Ø<br>
                <strong>Vstup do hry:</strong> ${canEnterGame ? '‚úÖ ANO' : '‚ùå NE'}<br>
                <strong>Akce:</strong> ${canEnterGame ? 'Hr√°ƒç vstupuje do hry' : 'Body se nezapoƒç√≠t√°vaj√≠'}
            `;
            
            document.getElementById('entryResults').appendChild(result);
        }
        
        // Test 2: V√Ωpoƒçet sk√≥re
        function testDice(diceValues) {
            const score = calculateScore(diceValues);
            
            const result = document.createElement('div');
            result.className = 'status info';
            result.innerHTML = `
                <strong>Kostky:</strong> [${diceValues.join(', ')}]<br>
                <strong>Sk√≥re:</strong> ${score} bod≈Ø<br>
                <strong>Typ:</strong> ${score === 0 ? 'FARKLE' : 'Boduj√≠c√≠ kombinace'}
            `;
            
            document.getElementById('scoreResults').appendChild(result);
        }
        
        // Test 3: Podm√≠nky tlaƒç√≠tek
        function testButtonState(hasEnteredGame, turnScore) {
            const gameEntryMinimum = 300;
            let canEndTurn = turnScore > 0;
            
            if (!hasEnteredGame && turnScore < gameEntryMinimum) {
                canEndTurn = false;
            }
            
            const result = document.createElement('div');
            result.className = `status ${canEndTurn ? 'pass' : 'fail'}`;
            result.innerHTML = `
                <strong>Hr√°ƒç ve h≈ôe:</strong> ${hasEnteredGame ? 'ANO' : 'NE'}<br>
                <strong>Sk√≥re tahu:</strong> ${turnScore} bod≈Ø<br>
                <strong>Tlaƒç√≠tko "End Turn":</strong> ${canEndTurn ? '‚úÖ POVOLENO' : '‚ùå ZAK√ÅZ√ÅNO'}<br>
                <strong>D≈Øvod:</strong> ${!hasEnteredGame && turnScore < gameEntryMinimum ? 'Pot≈ôeba min. 300 bod≈Ø pro vstup' : 'V≈°echny podm√≠nky splnƒõny'}
            `;
            
            document.getElementById('buttonResults').appendChild(result);
        }
        
        // Test 4: AI chov√°n√≠
        function testAI(hasEnteredGame) {
            let aiScore;
            let strategy;
            
            if (!hasEnteredGame) {
                // AI mus√≠ z√≠skat alespo≈à 300 bod≈Ø pro vstup
                aiScore = Math.floor(Math.random() * 400) + 300; // 300-699 bod≈Ø
                strategy = 'Mus√≠ z√≠skat min. 300 bod≈Ø pro vstup do hry';
            } else {
                // Norm√°ln√≠ AI tah
                aiScore = Math.floor(Math.random() * 500) + 100; // 100-599 bod≈Ø
                strategy = 'Norm√°ln√≠ tah - m≈Ø≈æe skonƒçit s libovoln√Ωm sk√≥re > 0';
            }
            
            const result = document.createElement('div');
            result.className = 'status info';
            result.innerHTML = `
                <strong>AI ve h≈ôe:</strong> ${hasEnteredGame ? 'ANO' : 'NE'}<br>
                <strong>Vygenerovan√© sk√≥re:</strong> ${aiScore} bod≈Ø<br>
                <strong>Strategie:</strong> ${strategy}<br>
                <strong>V√Ωsledek:</strong> ${!hasEnteredGame ? 'AI vstupuje do hry' : 'AI pokraƒçuje ve h≈ôe'}
            `;
            
            document.getElementById('aiResults').appendChild(result);
        }
        
        // Automatick√© spu≈°tƒõn√≠ nƒõkter√Ωch test≈Ø
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üé≤ Farkle Game Manual Test loaded');
            
            // Uk√°zka z√°kladn√≠ch test≈Ø
            testEntry(250);
            testEntry(300);
            testDice([1,1,1,5,5,6]);
            testDice([2,3,4,6]);
            testButtonState(false, 250);
            testButtonState(false, 300);
            testAI(false);
            testAI(true);
        });
    </script>
</body>
</html>
