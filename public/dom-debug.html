<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DOM Debug - AI Dice Challenge</title>
    <style>
        body { font-family: monospace; background: #000; color: #39ff14; padding: 20px; }
        .debug-section { margin: 20px 0; padding: 15px; border: 1px solid #39ff14; }
        .debug-info { background: #111; padding: 10px; margin: 5px 0; }
        .button-test { margin: 10px; padding: 10px; background: #333; border: 1px solid #39ff14; }
    </style>
</head>
<body>
    <h1>üîç DOM Debug - AI Dice Challenge</h1>
    
    <div class="debug-section">
        <h2>üìä DOM Anal√Ωza</h2>
        <div id="dom-analysis"></div>
    </div>
    
    <div class="debug-section">
        <h2>üñ±Ô∏è Test tlaƒç√≠tek z gameArea</h2>
        <div id="button-analysis"></div>
    </div>
    
    <div class="debug-section">
        <h2>üé® CSS Test</h2>
        <div id="css-test"></div>
    </div>
    
    <div class="debug-section">
        <h2>üéÆ Manu√°ln√≠ test</h2>
        <button class="btn-neon manual-test" data-neon-color="green" onclick="manualTest()">MANU√ÅLN√ç TEST</button>
        <div id="manual-result"></div>
    </div>
    
    <script>
        function manualTest() {
            document.getElementById('manual-result').innerHTML = '‚úÖ Manu√°ln√≠ tlaƒç√≠tko funguje!';
        }
        
        function analyzePage() {
            const domAnalysis = document.getElementById('dom-analysis');
            const buttonAnalysis = document.getElementById('button-analysis');
            const cssTest = document.getElementById('css-test');
            
            // Naƒçten√≠ hlavn√≠ str√°nky v iframe
            const iframe = document.createElement('iframe');
            iframe.src = '/';
            iframe.style.width = '100%';
            iframe.style.height = '600px';
            iframe.style.border = '1px solid #39ff14';
            
            iframe.onload = function() {
                try {
                    const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
                    
                    // Anal√Ωza DOM
                    const gameArea = iframeDoc.getElementById('gameArea');
                    const buttons = iframeDoc.querySelectorAll('.btn-neon');
                    const allButtons = iframeDoc.querySelectorAll('button');
                    
                    domAnalysis.innerHTML = `
                        <div class="debug-info">gameArea element: ${gameArea ? '‚úÖ Nalezen' : '‚ùå Nenalezen'}</div>
                        <div class="debug-info">Neonov√° tlaƒç√≠tka (.btn-neon): ${buttons.length}</div>
                        <div class="debug-info">V≈°echna tlaƒç√≠tka: ${allButtons.length}</div>
                        <div class="debug-info">Loading screen: ${iframeDoc.getElementById('loadingScreen') ? 'Existuje' : 'Neexistuje'}</div>
                    `;
                    
                    // Anal√Ωza tlaƒç√≠tek
                    let buttonHtml = '';
                    buttons.forEach((btn, index) => {
                        const hasEventListener = btn.onclick !== null || btn.addEventListener !== undefined;
                        const computedStyle = iframe.contentWindow.getComputedStyle(btn);
                        
                        buttonHtml += `
                            <div class="button-test">
                                <strong>Tlaƒç√≠tko ${index + 1}:</strong><br>
                                Text: "${btn.textContent.trim()}"<br>
                                T≈ô√≠dy: ${btn.className}<br>
                                Data-neon-color: ${btn.getAttribute('data-neon-color')}<br>
                                OnClick: ${btn.onclick ? '‚úÖ M√°' : '‚ùå Nem√°'}<br>
                                Barva: ${computedStyle.color}<br>
                                Border: ${computedStyle.borderColor}<br>
                                Cursor: ${computedStyle.cursor}<br>
                                <button onclick="testButton(${index})">Test klik</button>
                            </div>
                        `;
                    });
                    
                    buttonAnalysis.innerHTML = buttonHtml;
                    
                    // CSS test
                    cssTest.innerHTML = `
                        <div class="debug-info">CSS hlavn√≠: ${iframeDoc.querySelector('link[href*="main.css"]') ? '‚úÖ' : '‚ùå'}</div>
                        <div class="debug-info">Bootstrap: ${iframeDoc.querySelector('link[href*="bootstrap"]') ? '‚úÖ' : '‚ùå'}</div>
                        <div class="debug-info">Animate.css: ${iframeDoc.querySelector('link[href*="animate.css"]') ? '‚úÖ' : '‚ùå'}</div>
                    `;
                    
                } catch (error) {
                    domAnalysis.innerHTML = `<div class="debug-info">‚ùå Chyba p≈ôi anal√Ωze: ${error.message}</div>`;
                }
            };
            
            document.body.appendChild(iframe);
        }
        
        function testButton(index) {
            const iframe = document.querySelector('iframe');
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            const buttons = iframeDoc.querySelectorAll('.btn-neon');
            
            if (buttons[index]) {
                buttons[index].click();
                alert(`Klikl jsem na tlaƒç√≠tko ${index + 1}: "${buttons[index].textContent.trim()}"`);
            }
        }
        
        // Spu≈°tƒõn√≠ anal√Ωzy po naƒçten√≠ str√°nky
        setTimeout(analyzePage, 1000);
    </script>
</body>
</html>
