# ğŸ² FARKLE - Pravidla hry

## ZÃ¡kladnÃ­ pravidla

### CÃ­l hry
- DosÃ¡hnout **10 000 bodÅ¯** (nebo jinÃ©ho nastavitelnÃ©ho cÃ­le)
- PrvnÃ­ hrÃ¡Ä, kterÃ½ dosÃ¡hne cÃ­lovÃ©ho skÃ³re, vyhrÃ¡vÃ¡

### ZÃ¡kladnÃ­ mechaniky

#### Vstup do hry
- **MinimÃ¡lnÃ­ skÃ³re pro vstup: 300 bodÅ¯ v jednom tahu**
- Dokud hrÃ¡Ä nezÃ­ska alespoÅˆ 300 bodÅ¯ v jednom tahu, jeho skÃ³re se neuchovÃ¡vÃ¡
- Po prvnÃ­m dosaÅ¾enÃ­ 300+ bodÅ¯ se hrÃ¡Ä "dostÃ¡vÃ¡ do hry" a vÅ¡echny dalÅ¡Ã­ body se zapoÄÃ­tÃ¡vajÃ­

#### BodovÃ¡nÃ­ kostek

##### JedniÄky (1)
- **1 kostka = 100 bodÅ¯**
- **3 kostky = 1000 bodÅ¯**
- **4 kostky = 1100 bodÅ¯** (1000 + 100)
- **5 kostek = 1200 bodÅ¯** (1000 + 200)
- **6 kostek = 1300 bodÅ¯** (1000 + 300)

##### PÄ›tky (5)
- **1 kostka = 50 bodÅ¯**
- **3 kostky = 500 bodÅ¯**
- **4 kostky = 550 bodÅ¯** (500 + 50)
- **5 kostek = 600 bodÅ¯** (500 + 100)
- **6 kostek = 650 bodÅ¯** (500 + 150)

##### OstatnÃ­ ÄÃ­sla (2, 3, 4, 6)
- **JednotlivÃ© kostky = 0 bodÅ¯**
- **3 kostky = ÄÃ­slo Ã— 100 bodÅ¯**
  - 3Ã—2 = 200 bodÅ¯
  - 3Ã—3 = 300 bodÅ¯
  - 3Ã—4 = 400 bodÅ¯
  - 3Ã—6 = 600 bodÅ¯
- **4+ kostky = zÃ¡kladnÃ­ body + (poÄet navÃ­c Ã— 100)**
  - 4Ã—2 = 200 + 100 = 300 bodÅ¯
  - 5Ã—3 = 300 + 200 = 500 bodÅ¯

#### SpeciÃ¡lnÃ­ kombinace
- **6 kostek rÅ¯znÃ½ch hodnot (1,2,3,4,5,6) = 1500 bodÅ¯**
- **3 pÃ¡ry = 1500 bodÅ¯**
- **4 kostky + 1 pÃ¡r = 1500 bodÅ¯**
- **2Ã—3 kostky = 2500 bodÅ¯**

### PrÅ¯bÄ›h tahu

#### 1. Hod kostkami
- HrÃ¡Ä hÃ¡zÃ­ vÅ¡emi dostupnÃ½mi kostkami (na zaÄÃ¡tku 6)
- Pokud v hodu nejsou Å¾Ã¡dnÃ© bodujÃ­cÃ­ kostky â†’ **FARKLE**

#### 2. VÃ½bÄ›r kostek
- HrÃ¡Ä **MUSÃ** vybrat alespoÅˆ nÄ›kterÃ© bodujÃ­cÃ­ kostky
- VybranÃ© kostky se **odloÅ¾Ã­** a jejich body se pÅ™iÄtou k aktuÃ¡lnÃ­mu tahu
- NevybranÃ© kostky zÅ¯stÃ¡vajÃ­ k dispozici pro dalÅ¡Ã­ hod

#### 3. RozhodnutÃ­
HrÃ¡Ä mÃ¡ 3 moÅ¾nosti:
- **A) Hodit znovu** - hÃ¡zÃ­ zbÃ½vajÃ­cÃ­mi kostkami
- **B) UkonÄit tah** - pÅ™ipÃ­Å¡e si vÅ¡echny nasbÃ­ranÃ© body z tahu
- **C) Hot Dice** - pokud pouÅ¾il vÅ¡ech 6 kostek, dostÃ¡vÃ¡ 6 novÃ½ch

#### 4. FARKLE
- Pokud hod neobsahuje Å¾Ã¡dnÃ© bodujÃ­cÃ­ kostky = FARKLE
- **VÅ¡echny body z aktuÃ¡lnÃ­ho tahu se ztrÃ¡cÃ­**
- Tah pÅ™echÃ¡zÃ­ na dalÅ¡Ã­ho hrÃ¡Äe

### HOT DICE
- **KdyÅ¾ hrÃ¡Ä pouÅ¾ije vÅ¡ech 6 kostek, dostÃ¡vÃ¡ 6 novÃ½ch**
- Body z pÅ™edchozÃ­ch hodÅ¯ v tahu zÅ¯stÃ¡vajÃ­
- HrÃ¡Ä pokraÄuje v tahu s 6 novÃ½mi kostkami

### UkonÄenÃ­ hry
- **Hra konÄÃ­, kdyÅ¾ nÄ›kdo dosÃ¡hne cÃ­lovÃ©ho skÃ³re**
- **VÅ¡ichni ostatnÃ­ hrÃ¡Äi dostÃ¡vajÃ­ jeÅ¡tÄ› jeden tah**
- **VyhrÃ¡vÃ¡ hrÃ¡Ä s nejvyÅ¡Å¡Ã­m skÃ³re**

## ImplementaÄnÃ­ detaily

### Vstup do hry
```javascript
// HrÃ¡Ä nenÃ­ v hÅ™e
if (!player.hasEnteredGame) {
    if (turnScore >= 300) {
        player.hasEnteredGame = true;
        player.score += turnScore;
    }
    // Jinak se body nezapoÄÃ­tÃ¡vajÃ­
} else {
    // HrÃ¡Ä je v hÅ™e - vÅ¡echny body se zapoÄÃ­tÃ¡vajÃ­
    player.score += turnScore;
}
```

### Kontrola bodovÃ¡nÃ­
```javascript
function calculateScore(dice) {
    // SpoÄÃ­tej frekvenci kaÅ¾dÃ©ho ÄÃ­sla
    const counts = {};
    dice.forEach(die => counts[die] = (counts[die] || 0) + 1);
    
    let score = 0;
    
    // Zpracuj kaÅ¾dÃ© ÄÃ­slo
    Object.entries(counts).forEach(([number, count]) => {
        const num = parseInt(number);
        
        if (num === 1) {
            // JedniÄky: 3+ = 1000, zbytek Ã— 100
            if (count >= 3) {
                score += 1000;
                score += (count - 3) * 100;
            } else {
                score += count * 100;
            }
        } else if (num === 5) {
            // PÄ›tky: 3+ = 500, zbytek Ã— 50
            if (count >= 3) {
                score += 500;
                score += (count - 3) * 50;
            } else {
                score += count * 50;
            }
        } else {
            // OstatnÃ­: pouze 3+ kostky bodujÃ­
            if (count >= 3) {
                score += num * 100;
                score += (count - 3) * 100;
            }
        }
    });
    
    return score;
}
```

### Validace vÃ½bÄ›ru
```javascript
function validateSelection(selectedDice, allDice) {
    const selectedValues = selectedDice.map(i => allDice[i]);
    const score = calculateScore(selectedValues);
    
    return score > 0; // VÃ½bÄ›r musÃ­ mÃ­t alespoÅˆ 1 bod
}
```
