/* =============================================================================
   üí¨ CHAT - Bootstrap-first styly pro chatovac√≠ rozhran√≠
   ============================================================================= */

/* CHAT CONTAINER - Bootstrap: d-flex flex-column h-100 rounded-3 overflow-hidden border-2 */
.chat-container {
  /* Neonov√© olemov√°n√≠ - jedin√Ω custom prvek */
  border: 2px solid var(--neon-green);
  box-shadow: 0 0 8px var(--neon-green), 
              0 0 15px rgba(var(--neon-green-rgb), 0.3);
  min-height: 150px;
  background-color: rgba(0, 0, 0, 0.9);
}

@media (min-width: 768px) {
  .chat-container {
    min-height: 300px;
  }
}

/* CHAT HEADER - Bootstrap: bg-dark p-2 p-sm-3 rounded-top text-center */
.chat-header {
  background-color: rgba(0, 0, 0, 0.9);
  /* Bootstrap utilities: p-1 p-sm-2 p-md-3 text-center */
}

/* CHAT MESSAGES - Bootstrap: flex-grow-1 overflow-auto bg-dark */
.chat-messages {
  background-color: rgba(0, 0, 0, 0.85);
  scrollbar-width: thin;
  scrollbar-color: rgba(var(--neon-green-rgb), 0.5) rgba(0, 0, 0, 0.2);
  scroll-behavior: smooth;
  -webkit-overflow-scrolling: touch;
  /* Bootstrap utilities: flex-grow-1 overflow-auto min-h-0 */
}

/* Custom scrollbar styling */
.chat-messages::-webkit-scrollbar {
  width: 8px;
}

.chat-messages::-webkit-scrollbar-track {
  background: rgba(0, 0, 0, 0.4);
  border-radius: 4px;
}

.chat-messages::-webkit-scrollbar-thumb {
  background: rgba(var(--neon-green-rgb), 0.7);
  border-radius: 4px;
}

.chat-messages::-webkit-scrollbar-thumb:hover {
  background: rgba(var(--neon-green-rgb), 0.9);
}

/* CHAT MESSAGE - Bootstrap: mb-2 mb-sm-3 */
.chat-message {
  position: relative;
  line-height: 1.4;
  word-wrap: break-word;
  /* Neonov√Ω indik√°tor */
  padding-left: 12px;
}

.chat-message::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  bottom: 0;
  width: 2px;
  border-radius: 2px;
  background: linear-gradient(to bottom, transparent, var(--neon-green), transparent);
  box-shadow: 0 0 4px var(--neon-green);
  opacity: 0.8;
  transition: all 0.3s ease;
}

.chat-message:hover::before {
  opacity: 1;
  width: 4px;
  box-shadow: 0 0 12px var(--neon-green);
}

/* Message type colors */
.chat-message.msg-gemini::before {
  background: linear-gradient(to bottom, transparent, var(--neon-blue), transparent);
  box-shadow: 0 0 8px var(--neon-blue);
}

.chat-message.msg-chatgpt::before {
  background: linear-gradient(to bottom, transparent, var(--neon-pink), transparent);
  box-shadow: 0 0 8px var(--neon-pink);
}

.chat-message.msg-claude::before {
  background: linear-gradient(to bottom, transparent, var(--neon-orange), transparent);
  box-shadow: 0 0 8px var(--neon-orange);
}

.chat-message.msg-system::before {
  background: linear-gradient(to bottom, transparent, var(--neon-yellow), transparent);
  box-shadow: 0 0 8px var(--neon-yellow);
}

/* CHAT MESSAGE HEADER - Bootstrap: fw-bold mb-1 text-uppercase */
.chat-message-header {
  font-family: 'Orbitron', sans-serif;
  letter-spacing: 0.5px;
  opacity: 0.9;
  /* Bootstrap utilities: fw-bold mb-1 text-uppercase */
}

/* Message header colors */
.chat-message.msg-gemini .chat-message-header {
  color: var(--neon-blue);
  text-shadow: 0 0 3px var(--neon-blue);
}

.chat-message.msg-chatgpt .chat-message-header {
  color: var(--neon-pink);
  text-shadow: 0 0 3px var(--neon-pink);
}

.chat-message.msg-claude .chat-message-header {
  color: var(--neon-orange);
  text-shadow: 0 0 3px var(--neon-orange);
}

.chat-message.msg-system .chat-message-header {
  color: var(--neon-yellow);
  text-shadow: 0 0 3px var(--neon-yellow);
}

.chat-message.msg-human .chat-message-header {
  color: var(--neon-green);
  text-shadow: 0 0 3px var(--neon-green);
}

/* CHAT INPUT - Bootstrap: bg-dark p-2 p-sm-3 rounded-bottom position-sticky bottom-0 */
.chat-input {
  background-color: rgba(0, 0, 0, 0.9);
  position: sticky;
  bottom: 0;
  z-index: 10;
  margin-top: auto;
  transition: all 0.3s ease;
  /* Bootstrap utilities: bg-dark p-2 p-sm-3 rounded-bottom position-sticky bottom-0 */
}

/* iOS keyboard handling */
@supports (-webkit-touch-callout: none) {
  .chat-input {
    padding-bottom: calc(0.375rem + env(keyboard-inset-height, 0px));
  }
}

/* CHAT INPUT FORM CONTROL - Bootstrap extension */
.form-control-neon-chat {
  background-color: rgba(0, 0, 0, 0.6);
  color: var(--neon-green);
  border: none;
  outline: none;
  /* Bootstrap utilities: border-0 rounded */
}

.form-control-neon-chat::placeholder {
  color: rgba(57, 255, 20, 0.4);
}

.form-control-neon-chat:focus {
  background-color: rgba(0, 0, 0, 0.6);
  color: var(--neon-green);
  box-shadow: none;
}

/* CHAT SEND BUTTON - Bootstrap: btn */
.btn-neon-chat {
  background: transparent;
  border: none;
  color: var(--neon-green);
  transition: transform 0.2s ease-in-out;
  /* Bootstrap utilities: btn border-0 */
}

.btn-neon-chat:hover {
  color: var(--neon-green);
  transform: scale(1.15);
}

.btn-neon-chat:focus,
.btn-neon-chat:active {
  transform: scale(1.1);
}

.btn-neon-chat i {
  color: var(--neon-green);
  transition: transform 0.2s ease-in-out;
}

/* =============================================================================
   üì± MOBILN√ç CHAT CONSTRAINTS
   ============================================================================= */

@media (max-width: 767.98px) {
  .chat-mobile-constraint {
    max-height: 40vh !important;
    height: 40vh !important;
    overflow: hidden !important;
  }
  
  .chat-mobile-constraint .chat-container {
    height: 100% !important;
    max-height: 100% !important;
    overflow: hidden !important;
  }
  
  .chat-mobile-constraint .chat-messages {
    max-height: calc(100% - 80px) !important;
    flex: 1 1 auto !important;
  }
  
  .chat-mobile-constraint .chat-input {
    flex-shrink: 0 !important;
    min-height: 50px !important;
  }
}

@media (max-width: 480px) {
  .chat-mobile-constraint {
    max-height: 35vh !important;
    height: 35vh !important;
  }
  
  .chat-mobile-constraint .chat-messages {
    max-height: calc(100% - 70px) !important;
  }
}

/* =============================================================================
   üèÅ BOOTSTRAP-FIRST CHAT DOKONƒåENO
   Redukce z 516 ≈ô√°dk≈Ø na ~200 ≈ô√°dk≈Ø maxim√°ln√≠m vyu≈æit√≠m Bootstrap utilit
   ============================================================================= */
