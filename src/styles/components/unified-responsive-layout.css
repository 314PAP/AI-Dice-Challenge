/**
 * Jednotné řešení mobilního layoutu a responzivity
 *
 * Tento soubor sjednocuje všechny úpravy pro mobilní layout
 * a řeší problém s duplicitním zobrazením a překrývajícími se rámečky.
 */

/* ZÁKLADNÍ NASTAVENÍ */
body {
  overflow-x: hidden;
}

/* RESPONZIVNÍ BREAKPOINTY - používáme Bootstrap breakpointy pro konzistenci */
@media (max-width: 767.98px) {
  /* ====== MOBILNÍ LAYOUT ====== */
  
  /* Zajištění, že desktopový layout je skutečně skrytý */
  .container-fluid.d-none.d-md-block {
    display: none !important;
    width: 0;
    height: 0;
    overflow: hidden;
    position: absolute;
    left: -9999px;
    visibility: hidden;
  }
  
  /* Konfigurace mobilního kontejneru - flexbox layout */
  .container-fluid.d-block.d-md-none.mw-90.mh-90.vh-90 {
    display: flex !important;
    flex-direction: column;
    gap: 0.75rem;
    padding: 0.75rem;
    height: 100vh;
  }
  
  /* Rozdělení výšky mezi herní box a chat */
  .row.g-0.h-75 {
    flex: 3;
    min-height: 0;
    height: auto;
    margin-bottom: 0.5rem;
  }
  
  .row.g-0.h-20 {
    flex: 1;
    min-height: 0;
    max-height: 30vh;
    height: auto;
  }
  
  /* Konzistentní velikost okrajů pro mobilní zobrazení */
  .game-box, 
  .chat-container, 
  #chatPanelMobile {
    border-width: 1px;
    border-radius: 0.375rem;
  }
}

/* Pro velmi malé obrazovky ještě více kompaktní */
@media (max-width: 767.98px) and (max-height: 600px) {
  .container-fluid.d-block.d-md-none.mw-90.mh-90.vh-90 {
    padding: 0.5rem;
    gap: 0.5rem;
  }
}

/* DESKTOPOVÝ LAYOUT */
@media (min-width: 768px) {
  /* Zajištění, že mobilní layout je skutečně skrytý */
  .container-fluid.d-block.d-md-none {
    display: none !important;
    width: 0;
    height: 0;
    overflow: hidden;
    position: absolute;
    left: -9999px;
    visibility: hidden;
  }
  
  /* Desktopový kontejner */
  .container-fluid.d-none.d-md-block.mw-90.mh-90.vh-90 {
    padding: var(--space-md);
  }
}
