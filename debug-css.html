<!DOCTYPE html>
<html lang="cs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CSS Debug</title>
    
    <!-- Naƒçten√≠ v≈°ech CSS soubor≈Ø ze stejn√Ωch cest jako v index.html -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="/src/styles/main-optimized.css">
    <link rel="stylesheet" href="/src/styles/variables/colors.css">
    <link rel="stylesheet" href="/src/styles/variables/sizes.css">
    <link rel="stylesheet" href="/src/styles/variables/animations.css">
    <link rel="stylesheet" href="/src/styles/components/neon-effects.css">
    <link rel="stylesheet" href="/src/styles/components/game-menu.css">
    <link rel="stylesheet" href="/src/styles/components/game-controls.css">
    <link rel="stylesheet" href="/src/styles/components/chat.css">
    <link rel="stylesheet" href="/src/styles/components/modals.css">
    <link rel="stylesheet" href="/src/styles/utils/minimalist-layout.css">
    <link rel="stylesheet" href="/src/styles/utils/neon-bootstrap-utilities.css">
    <link rel="stylesheet" href="/src/styles/components/bootstrap-responsive.css">
    
    <style>
        body {
            background-color: #000;
            color: #fff;
            font-family: 'JetBrains Mono', monospace;
            padding: 20px;
        }
        
        .debug-box {
            background-color: #1a1a1a;
            border: 1px solid #333;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        
        .color-demo {
            display: inline-block;
            width: 100px;
            height: 30px;
            margin: 5px;
            border: 1px solid #666;
            border-radius: 3px;
            text-align: center;
            line-height: 30px;
            font-size: 10px;
            color: #000;
        }
        
        .variable-list {
            font-family: monospace;
            font-size: 12px;
        }
        
        .variable-item {
            margin: 5px 0;
            padding: 3px 5px;
            background-color: #2a2a2a;
            border-radius: 3px;
        }
        
        .css-conflict {
            background-color: #440000;
            border: 1px solid #ff0000;
        }
        
        .css-ok {
            background-color: #004400;
            border: 1px solid #00ff00;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">üîç CSS Debug - Kontrola barev</h1>
        
        <div class="debug-box">
            <h2>CSS Promƒõnn√©</h2>
            <div id="cssVariables" class="variable-list"></div>
        </div>
        
        <div class="debug-box">
            <h2>Barvy N√°hled</h2>
            <div id="colorDemo"></div>
        </div>
        
        <div class="debug-box">
            <h2>Utility T≈ô√≠dy Test</h2>
            <div id="utilityTest"></div>
        </div>
        
        <div class="debug-box">
            <h2>Chat Message Test</h2>
            <div id="chatTest"></div>
        </div>
        
        <div class="debug-box">
            <h2>Mo≈æn√© Konflikty</h2>
            <div id="conflicts"></div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const root = document.documentElement;
            
            // Definice oƒçek√°van√Ωch barev
            const expectedColors = {
                '--neon-green': '#39FF14',
                '--neon-blue': '#194DD1',
                '--neon-pink': '#FF00FF',
                '--neon-orange': '#FF8800',
                '--neon-yellow': '#FFFF00',
                '--neon-red': '#FF3131'
            };
            
            // Kontrola CSS promƒõnn√Ωch
            const variablesDiv = document.getElementById('cssVariables');
            const colorDemoDiv = document.getElementById('colorDemo');
            const utilityTestDiv = document.getElementById('utilityTest');
            const chatTestDiv = document.getElementById('chatTest');
            const conflictsDiv = document.getElementById('conflicts');
            
            let conflicts = [];
            
            // Test CSS promƒõnn√Ωch
            Object.entries(expectedColors).forEach(([variable, expectedValue]) => {
                const actualValue = getComputedStyle(root).getPropertyValue(variable).trim();
                const isMatch = actualValue.toLowerCase() === expectedValue.toLowerCase();
                
                const div = document.createElement('div');
                div.className = `variable-item ${isMatch ? 'css-ok' : 'css-conflict'}`;
                div.innerHTML = `
                    <strong>${variable}:</strong> 
                    <span style="color: ${actualValue};">${actualValue}</span>
                    ${isMatch ? '‚úÖ' : '‚ùå Expected: ' + expectedValue}
                `;
                variablesDiv.appendChild(div);
                
                if (!isMatch) {
                    conflicts.push(`${variable}: expected ${expectedValue}, got ${actualValue}`);
                }
                
                // Barevn√° uk√°zka
                const colorDemo = document.createElement('div');
                colorDemo.className = 'color-demo';
                colorDemo.style.backgroundColor = actualValue;
                colorDemo.textContent = variable.replace('--neon-', '');
                colorDemoDiv.appendChild(colorDemo);
            });
            
            // Test utility t≈ô√≠d
            const utilityClasses = [
                'neon-text-green',
                'neon-text-blue',
                'neon-text-pink',
                'neon-text-orange',
                'neon-text-yellow',
                'neon-text-red'
            ];
            
            utilityClasses.forEach(className => {
                const testElement = document.createElement('div');
                testElement.className = className;
                testElement.textContent = `Test ${className}`;
                utilityTestDiv.appendChild(testElement);
            });
            
            // Test chat messages
            const chatMessages = [
                { sender: 'Hr√°ƒç', message: 'Test zpr√°va', type: 'player', color: null },
                { sender: 'Gemini', message: 'Test zpr√°va', type: 'ai', color: 'neon-blue' },
                { sender: 'ChatGPT', message: 'Test zpr√°va', type: 'ai', color: 'neon-pink' },
                { sender: 'Claude', message: 'Test zpr√°va', type: 'ai', color: 'neon-orange' },
                { sender: 'Syst√©m', message: 'Test zpr√°va', type: 'system', color: null }
            ];
            
            chatMessages.forEach(msg => {
                const colorClass = msg.color || (msg.type === 'system' ? 'neon-yellow' : 'neon-green');
                const chatMsg = document.createElement('div');
                chatMsg.className = 'chat-message';
                chatMsg.innerHTML = `
                    <strong class="${colorClass}">${msg.sender}:</strong> 
                    <span class="${colorClass}">${msg.message}</span>
                `;
                chatTestDiv.appendChild(chatMsg);
            });
            
            // Zobrazen√≠ konflikt≈Ø
            if (conflicts.length > 0) {
                conflicts.forEach(conflict => {
                    const div = document.createElement('div');
                    div.className = 'variable-item css-conflict';
                    div.textContent = conflict;
                    conflictsDiv.appendChild(div);
                });
            } else {
                conflictsDiv.innerHTML = '<div class="variable-item css-ok">‚úÖ ≈Ω√°dn√© konflikty nenalezeny</div>';
            }
            
            // Dal≈°√≠ detekce mo≈æn√Ωch probl√©m≈Ø
            const stylesheets = document.styleSheets;
            let totalRules = 0;
            let cssFiles = [];
            
            for (let i = 0; i < stylesheets.length; i++) {
                const sheet = stylesheets[i];
                if (sheet.href) {
                    cssFiles.push(sheet.href);
                }
                try {
                    if (sheet.cssRules) {
                        totalRules += sheet.cssRules.length;
                    }
                } catch (e) {
                    console.log('Nelze p≈ôistoupit k CSS pravidl≈Øm:', sheet.href);
                }
            }
            
            const infoDiv = document.createElement('div');
            infoDiv.className = 'variable-item';
            infoDiv.innerHTML = `
                <strong>CSS Info:</strong><br>
                Naƒçteno soubor≈Ø: ${cssFiles.length}<br>
                Celkem pravidel: ${totalRules}<br>
                Soubory: ${cssFiles.map(f => f.split('/').pop()).join(', ')}
            `;
            conflictsDiv.appendChild(infoDiv);
        });
    </script>
</body>
</html>
